{% extends "base.html" %}
{% block content %}



    <div class="section" id="Description">
    <p><b>Sample:</b> {{ project }} <br>
    <b>Type:</b> {{ type }} </p>
    {% if description %}
    <p>{{ description }}</p>
    {% endif %}
    </div>

<div class="section" id="input">
    <h2> Input
    <div style="float:right"><a href="fastq_stats__samples.html">| Details </a></div>
    <div style="float:right"><a href="fastqc__samples/fastqc__samples.html">| FastQC </a></div>
    </h2>

    {{ dataset }}

    <div>{{ sample_stats }} </div>
    <br>
    <div>
    {% if sample_image_r1 %}
    <div style="float:left; width:49%">
        <a href="../{{sample_image_r1 }}"><img src="../{{ sample_image_r1 }}"></a>
    </div>
    {% endif %}
    {% if sample_image_r2 %}
    <div style="float:right; width:49%">
        <a href="../{{sample_image_r2 }}"><img src="../{{ sample_image_r2 }}"></a>
    </div>
    {% endif %}
    </div>
</div>

{# ================================================================= PHIX #}
{% if cfg['bwa_phix'] and cfg['bwa_phix']['do'] == True %}
    <div class="section" id="phix">
    <h2>  <a class="toc-backref" href="#id2">Phix content</a>
    <div style="float:right"><a href="fastq_stats__phix.html">| Details </a></div>
    <div style="float:right"><a href="fastqc__phix/fastqc__phix.html">| FastQC </a></div>
    </h2>
   {{ phix_section }}
    <p>Reads statistics after/before Phix removal (mapped means with Phix)</p>
   {{ phix_stats }}
    </div>
{% endif %}

{# ============================================================  ADAPTERS #}
{% if cfg['adapter_removal'] and cfg['adapter_removal']['do'] %}
    <div class="section" id="adapters">
    <h2>  <a class="toc-backref" href="#id2">Adapters</a>

    <div style="float:right"><a href="cutadapt.html">| Cutadapt report</a></div>
    <div style="float:right"><a href="fastq_stats__cutadapt.html">| Details </a></div>
    <div style="float:right"><a href="fastqc__cutadapt/fastqc__cutadapt.html">| FastQC</a></div>

    </h2>
    <p>Reads statistics after trimming and adapter removal</p>
    {{ cutadapt_stats1 }}
    {{ cutadapt_stats2 }}
{% endif %}

{# ============================================================= OUTPUT #}


{% if output %}
<div class="section" id="output">
    <h2>  <a class="toc-backref" href="#id2">Output</a></h2>

    {{ output }}

</div>
{% endif %}

{# ============================================================  TAXONOMY #}
{% if cfg['kraken'] and cfg['kraken']['do'] %}
    <div class="section" id="taxon">
    <h2>  <a class="toc-backref" href="#id8">Taxonomic content</a>
    <div style="float:right"><a href="./kraken.html">Details</a></div>
    </h2>
    <p>Overview of the Taxonomic content of the reads.</p>
    <a href="./kraken.html"> <img src="{{ kraken_pie }}"></img></a>
    <br>
    </div>
{% endif %}



{# ====================================================================  DAG #}

{% if workflow %}
<div class="section" id="workflow">
<h2>  <a class="toc-backref" href="#id2">Workflow</a></h2>
{% include 'workflow.html' %}
</div>
{% endif %}

{# ======================================================== software Details #}




{% if snakemake_stats %}
    <h2> <a class="toc-backref" href="#id3">Running Stats</a>
    <div style="float:right">
    <a href="#3" class="show_hideStats">collapse/expand</a>
    </div></h2>
    <div class="slidingDivStats">
        <img src="{{ snakemake_stats }}"></img>
    </div>
{% endif %}

{% if dependencies %}
    <div class="section" id="dependencies">
        <h2> <a class="toc-backref" href="#id4">Dependencies</a>
        <div style="float:right">
        <a href="#4" class="show_hideDeps">collapse/expand</a>
        </div>
        </h2>


    <div class="slidingDivDeps">
        Python dependencies (<b><a href="http://pypi.python.org">Pypi</a>)</b>
        {{ dependencies }}


        <hr>
        Dependencies downloaded from bioconda <b><a href="requirements.txt">requirements</a></b>
    </div>

    </div>
{% endif %}




{% endblock %}

